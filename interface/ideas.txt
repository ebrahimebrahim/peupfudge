--- User accounts ---
there should definitely be user accounts-- a register and login system.
it would be good to have "sign in with google" as an option, or as the only way in


--- Campaigns and scenes ---
A *campaign* is a whole game, and it can be split up into *scenes* which are narrative chunks that are in a particular time and place.
Each scene has a forum-like message log where the action takes place.
If playing remotely, everything is written in this message log.
When players talk in the message log, it's the characters talking. The interface should make it clear when a character talks
vs when a player is talking.
If playing in person, then the message log might end up with just the entries that are auto-generated by things like combat module.
(or whatever notes about the scene players/GM want to record)
Each scene is either active or inactive-- a new scene is always active, and the GM deactivates a scene when it's done with.
Each scene is associated with a particular group of players, and can be set to be visible to all or only to associated players.
For each player in a campaign, exactly one scene should be active at all times.
Players are associated to scenes, and scenes are associated to locations and times. 


--- Campaign creation ---
A GM logs in and hosts a *campaign*, choosing lots of things,
like the initial world map and/or any submaps,
choosing which other users will be invited,
and answering lots of questions from the campaign setup checklist:
(These things should be easy to change and add to as the campaign goes on)
- What is the standard being? (A campaign setting that is visible to everyone but doesn't do anything)
- Characteristics? These will show up as fields to fill in on character sheets.
- Properties? Want to predefine some? It's just a list of words characters can choose from. They can make up their own too
  (but the GM can reject this when looking over the character sheets)
- Make the bars, which will appear on character sheets, and describe them
- Make creature types and their
  - health conditions (Do we need to make a flowchart editor?!)
  - inventory system (root nodes of inventory tree)
- Set up ability tree (Do we need to make an editor for this? Maybe at first we can just upload .tree files)
- Make any predefined classes (pretrained trees) that you want to include, if any
- set starting xp
- choose modules to include (this campaign-wide setting should make certain 
- now choose module-specific settings for each module


Campaign settings should be saveable to reuse for new future campaigns.


--- map interface ---
The GM should be able to create a heirarchy of maps:
 Any number (though probably just 1) of root maps, like big world maps
 submaps that are linked to specific locations on other maps, like local maps
 Each map should have a mask layer that the GM can paint on or remove to reveal things to players
 Each map could, as a whole, be available or unavailable to players
 additionally, the GM should be able to create mask layers associated to specific player groups-- peurhaps "parties"?
COMMENT: These ideas are time-consuming to implement and are independent from the rest of PFI. We should put this off.


--- parties ---
a party is just a group of players that are together and therefore sense the same things.
the gm should have a player grouping screen to manage parties within the campaign.
very often all players in a campaign would be all in one party, but not always (e.g. the last time we played seed comet)
EDIT: Now that I think about it, a party is just the players that are all in the same scene.

--- Character sheets ---
The structure of these is determined when the GM makes the campaign, and can be modified as needed by GM.
They appear for each player (each can see their own char sheet. should they be able to see each other's? if player allows it maybe)
They appear for NPCs as the GM creates new types.

--- NPC management system ---
The GM should have  nice NPC management interface.
Here they can create NPC templates and specific NPCs.
An NPC template is a character sheet that will be common to all NPCs of a particular type (e.g. generic goblin)
A specific NPC is a specific entity (e.g. Glemnon the goblin merhant down the street)
Note that an NPC character sheet or template might have a "trimmed" ability tree.
The NPC interface should make it easy to keep track of what NPCs have been instantiated, and it should make it easy to create new ones.
It should probably have a good way to filter what is displayed, e.g. to NPCs in a specific map location.
(btw NPCs should optionally have a map location, if there's a map. or maybe just GM-specified fields? Or just a notes text box where
the GM could put that info if they wanted to?)
NPC templates should have the option to initialize stats within some random range (normal dist? uniform dist?)
As the GM makes an NPC, it should be displayed how much XP the NPC has spent.
When chatting in a scene, a GM should have the ability to take the voice of an NPC.


--- UI super super rough ideas ---
From index or any other url, if not logged in, get login screen. After login, redirect to originally requested url.
Index page is a list of campaigns in which you participate, and the button to create a campaign.
One you choose a campaign, you are in the campaign's scene selection screen.
This just shows a list of scenes, with the active ones that are accessible to this player at the top.
Buttons that can lead to character sheet, map, inventory, should always be available from every screen from that point on.
Hmmm... need to think this through a lot more...

There should be a place for players to talk out of character, so that they don't do this within a scene.


--- Module system ---
Somehow, modules should be single script files that follow a very specific uniform format.
All a module needs to do is write to the message log sometimes, possibly add some element to character sheets,
and have a "view", it's own page that players can look at. IDK what else, but it should all be standardized.
The element that a module can add to character sheets, and the module's "view" have to be allowed to be very generic.
(E.g. think of what combat module or time module would need to do.)


--- Items ---
The GM moves items from nonexistence to players' inventory trees.
Players can move items between each other, but they have to be in the same scene.
Item movements are automatically announced in the scene message log, allowing the GM to throw tantrums.
For item creation, the GM simply creates fields and fills them values any time they bring an item into existence.
They can also save templates.

--- Questions ---
What should the login system be?
Hmm.. this is a lot of stuff.. what should we make first?
This is a lot of stuff to make from scratch! Can we find some extensions to flask/django that do some of the work for us?
Other than the map interface and NPC management system, what tools should be available to the GM for keeping records of things?
