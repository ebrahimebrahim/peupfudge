\documentclass[12pt]{article}

%jej3856

%packages
\usepackage[usenames,dvipsnames,table,xcdraw]{xcolor}
\usepackage{multirow}
\usepackage{fullpage}
\usepackage{tikz}
\usepackage{amsmath}


\title{PeupFudge}
\author{Ebrahim \\ Yusuf \\ Yussra}
\date{\today}

\parindent0ex
\parskip5mm

%commands
\newcommand{\notes}[1]{{\color{Tan} #1}}

\begin{document}
%\maketitle
\textbf{Peupfudge}
\hfill
\textbf{\today}\\
\textit{Derived from core Fudge rules by Ebrahim, Yusuf, and Yussra.}

\section{Introduction}
\notes{what peupfudge is all about.
it gives you the classes and not the objects.
what a gm is.
pc vs npc.
numbering system, it's logarithmic interpretation, 4dF.
xp.}

\section{Characters}
A \emph{character} is an agent in the world.
Individual characters are represented by their traits and their status.
\emph{Traits} describe a character and their abilities.
\emph{Status} describes a character's dynamic current state.

\textbf{Traits}\vspace{-6mm}
\begin{itemize}
\item \emph{Characteristics}
describe identity and background
(e.g., name, race, species, height, gender).
\item \emph{Abilities}
represent improvable traits that play a role in action resolution
(e.g. strength, climbing, legal knowledge).
They have a positive integer \emph{ability level}.
\emph{Powers} are abilities that can also be turned off completely.
Abilities are organized in a tree, the mechanics of which are elaborated in section \ref{sec:tree}.
\item \emph{Properties} are binary traits-- a character either has or does not have a given property (e.g. deaf).
\end{itemize}

\textbf{Status}\vspace{-6mm}
\begin{itemize}
\item \emph{Bars} are ever-changing numerical statuses (e.g. mana, hunger, reputation).
\item \emph{Inventory} is the collection of items on a character's person (see section \ref{sec:items}).
\item \emph{Wound level} is a listing of a character's current injuries (see section \ref{sec:wounds}).
\item \emph{Conditions} are binary statuses (e.g. asleep, paralyzed, poisoned, on fire, etc.)
\end{itemize}

In creating a game world, a GM needs to specify the structure of a character by specifying the traits and statuses relevant to the campaign. A GM must essentially decide how a character sheet looks. In particular, this will involve inventing the characteristics, abilities, and bars, which might be based on the specific setting of the game.

\subsection{The Ability Tree}\label{sec:tree}			

The purpose of an ability level is to have something to roll against while resolving actions. If you don't know what that means, have a look at the introduction to section \ref{sec:actions} before diving into the details of this section.

%abilities starting at poor
Most abilities have an initial (untrained) level of 3. The GM may choose some different initial ability levels based on the difficulty of a skill. An ability that is very hard to pick up might have an initial level of 1, while a very easy ability could start at 5. What is considered ``untrained'' will depend on the setting of the world.

%define structure of tree, as well as terms 'skill' and 'attribute'
Abilities are arranged in a tree structure in which broad abilities govern more specific ones.
An ability that governs others is an \emph{attribute} (a non-terminal node), while an ability that does not govern any others is a \emph{skill} (a terminal node).
Each edge of the tree (each governing of one ability by another) has an associated \emph{weight}.
Here is an example of an initial ability tree where attributes are shown in blue,
skills are shown in red, skill levels are in parentheses, and weights are labeled on edges:

\tikzset{
  treenode/.style = {shape=rectangle, rounded corners,
                     draw, align=center,
                     top color=white},
  attribute/.style     = {treenode, font=\ttfamily\normalsize, bottom color=blue!30},
  skill/.style         = {treenode, font=\ttfamily\normalsize, bottom color=red!20},
}
\begin{tikzpicture}
  [
    grow                    = right,
    sibling distance        = 3em,
    level distance          = 15em,
    edge from parent/.style = {draw, -latex},
    every node/.style       = {font=\scriptsize},
    sloped
  ]
  \node [attribute] {Mind (3)}
    child { node [attribute] {Medicine (2)}
      child { node [skill] {First Aid (3)}
        edge from parent node [above] {1}}
      child { node [skill] {Wound Care (2)}
        edge from parent node [above] {1}}
      edge from parent node [above] {1}}
    child { node [skill] {Literacy (3)}
      edge from parent node [above] {2}}
    child { node [skill] {Engineering (1)}
      edge from parent node [above] {1}};
\end{tikzpicture}

\begin{tikzpicture}
  [
    grow                    = right,
    sibling distance        = 3em,
    level distance          = 15em,
    edge from parent/.style = {draw, -latex},
    every node/.style       = {font=\scriptsize},
    sloped
  ]
  \node [attribute] {Body (3)}
    child { node [attribute] {Athletics (3)}
      child { node [skill] {Running (4)}
        edge from parent node [above] {1}}
      child { node [skill] {Swimming (2)}
        edge from parent node [above] {1}}
      edge from parent node [above] {2} }
    child { node [skill] {Climbing (2)}
      edge from parent node [above] {1}}
    child { node [attribute] {Muscle\\Strength (3)} 
      child { node [skill] {Hauling (3)}
        edge from parent node [above] {1}}
      child { node [skill] {Hand-to-Hand\\Combat (3)}
        edge from parent node [above] {1}}
      edge from parent node [above] {2}};
\end{tikzpicture}.

\paragraph{The Idea} Let us summarize the mechanics to be explained. The weight of an ability represents its importance to its group, i.e. the degree to which its improvement improves its governing ability.
Players are granted experience points (xp) throughout the game. They may use xp to raise skills that they have recently used (i.e. rolled against). Only skills, and not attributes, may be raised directly with xp.
The mechanics of ability tree development are such that competence in skills related to a given skill make it easier to train that skill.

%parent ability makes it easier to train children. need to consider full ancestral line. explain 'xp' or refer to sec:dev. give table and equation. note that poor parents are like no parents.
\paragraph{Raising Skills}
Skills may be raised with xp.
The xp cost of raising a particular skill depends on
the skill's current level and the levels of all its ancestor attributes in the ability tree.
A high-level skill is harder to raise.
A skill with a high-level governing attribute is easier to raise.
%(I deleted "because it implies related knowledge" b/c we already said that in the conceptual summary -e)
Use the following table to determine the xp cost for a skill level increase:

\begin{center}
\input{xptable.tex}
\end{center}
%I don't like using the standard roman font in the table. should find a better font to display those numbers



The \emph{attribute bonus} is a weighted average over all ancestor attributes of the skill being trained:
\begin{align*}
\textrm{[attribute bonus]}
=\big(\ &\textrm{[level of governing attribute]}\\
&+\ \frac{1}{2}\textrm{[level of its governing attribute]}\\
&+\ \frac{1}{4}\textrm{[level of its governing attribute]}\\
&+\ \cdots \big)
\ /\ \big(1+\frac{1}{2}+\frac{1}{4}+\cdots\big)
\end{align*}
Equivalently,
\vspace{-6mm}
\begin{itemize}
\item Starting from the skill, go up along the line of attributes
and assign a weight of '1' for the attribute farthest from the skill.
\item Double that weight for each attribute going down the line.
\item Use that weight and the individual attribute levels to determine the total attribute bonus for the skill.
\end{itemize}
\vspace{-6mm}
Thus the closer an attribute is to a skill in the ability tree, the larger its hand in governing the skill. 




%raising child ability level has chance of raising parent. this applies to attributes as well. give formula and way to implement.
\paragraph{Raising Attributes}
Attributes cannot be raised directly using xp.
\notes{[The following paragraph talks about raising skill levels only.
Shouldn't it be talking about raising \emph{ability} levels?
Instead of mentioning later that ``the mechanic extends...'' -e]}
Anytime a skill is raised, there is a chance that the attribute that governs it will be raised.
This chance is determined by two factors: the weight of the skill (\emph{w}), and the sum of the weight of other sibling skills which are still at or below the level of the governing attribute (\emph{n}).
A high level of broad competence in an area typically comes from training various specific skills under that area.
Here is a formula where \emph{w} and \emph{n} are taken into account to determine the chance that the governing attribute is raised:

\notes{Insert formula here. This is just a placeholder, we can replace it with a qul table or something later; -y}

Based on this formula, it is easier to raise an attribute by raising many of the skills it governs above its level, rather than simply focusing on a few and ignoring the rest. This mechanic extends through the ability tree; any time an attribute is raised by this mechanism, the formula should be used again to determine whether the attribute that governs it in turn is raised.

%conceptual summary explaining the two main mechanics
\notes{some kind of section separator/header} The mechanics for raising skills and attributes are meant to be realistic. Training a specific skill is easier with more general related experience, especially for that experience which pertains most directly to the skill. At the same time, the general experience typically comes from training in a wide variety of related specific skills. The ability tree also has the effect of encouraging players, via xp discounts, to make characters that make sense and have some degree of specialization.
\notes{[This comment could probably be the same as the "good tree design is important section".
We already have a ``conceptual summary'' section above.
I recommend titling this paragraph ``Designing a good ability tree'' or something like that.]}

%good tree design is important. if it seems limiting that only skills can be trained directly, then the tree may not be designed well.

%explain what powers are and how they sit in the tree (just pretend they don't exist if off)

%suggest "character level" as root node.

%one way to make npcs more grainy is to "trim off" some leaves and turn attributes into leaves for them.

%examples of ability trees (or reference to later appearance of examples)
%magic as power

\subsection{Character Development}\label{sec:dev}

Experience points (xp) quantify the process of training abilities.
The GM doles out xp to the players after their characters accomplish some chunk of the narrative.
The idea is that more xp should be awarded for greater success and for the accomplishment of more difficult tasks,
but this is ultimately up to the GM.
%xp can only be used to raise skills, not attributes. and only ones that were used (rolled against) lately. (players ask gm).
The purpose of xp is to spend it to increase the level of skills, according to the xp cost table in section \ref{sec:tree}.
\notes{[insert direct reference to table if we make one.]}
Note that attribute levels cannot be raised directly, but instead have a chance of increasing every time a governed skill is trained.

The skills that can be trained should be limited to ones that are relevant to the accomplishments that resulted in the xp reward in the first place.
A GM may enforce this by listing 
(perhaps separately for each player)
which skills have been opened
to xp-allocation after a given xp reward,
or by asking players to clear each skill with him.
Players cannot save xp to use on arbitrary skills; they must \emph{allocate} their xp towards skills when they receive it.
It is fine to allocate to a skill an amount of xp less than what is needed to increase its level.
Players are responsible for keeping track of how much xp they have invested in partially purchased skill level increases.


%on char creation you start with some xp (50 times # of skills), and use it to raise leaves as in usual development; "static" and "live" character creation (use static for classes)

%player classes can be GM-made presets

%if a skill needs to be introduced in the middle of the game due to an omission (i.e. using an attribute to roll for a particular omitted skill often), then start it at its parent -2. capped below at 1, of course.

%magic as property

\subsection{Items and Inventory} \label{sec:items}
\notes{attributes are traits that all items have
an item can have additional descriptors for traits
examples of traits are: material, weight, scale, value
an item can also have a status (e.g. condition).
carrying capacity can be a bar.}


\section{Actions}\label{sec:actions}
When a character attempts a task that has a possibility of failure, the outcome is governed partly by a dice roll.
The dice roll represents the dependence of the outcome on factors that are not modeled in the game or that are altogether unpredictable.
\notes{[discuss unopposed and opposed. rolling focus on most specialized suitable ability. when rolling against attribute, subtract 2 from it's level for rolled degree purposes. this does not apply to grainy npc situation. 4dF probability table.]}
\subsection{Combat}
\notes{[description of what is combat round]

	During a combat round, a player who is able to attack another player (e.g. is within range) may attempt to do so.
	It is an opposed action, resolved as follows:
		Result of attack: ReD (Relative Degree) = attacker's RoD - defender's RoD (0 is miss, 1 is graze, >1 is hit)
			RoD (Rolled Degree): 2dF + Relevant trait + StanceMod + SitMod
				StanceMod is Stance for attacker and is -Stance for defender.
					Stance is a number from -2 to 2 chosen by each player at the beginning of the combat round.
				SitMod is a modifier based on various situational conditions (see below).
		Miss: No peup
		Hit: 2x ReD + DF + 1dF (dmg die roll)
			DF (Dmg Factor): Attacker's ODF - Defender's DDF
				ODF (Offensive Dmg Factor): Relevant trait (e.g. Str) + Weapon (e.g. type, sharpness, scale, condition, etc.)
				DDF (Defensive Dmg Factor): Relevant trait (e.g. Con) + Armor (e.g. material, toughness, scale, condition, etc.)
			Hit severity comes from top left of pg. 47
		Graze: DF + 1dF (dmg die roll)
			Graze severity comes from Table 4.56
	Note that players may be simulataneously attempting to attack each other in the same combat round.
	This is resolved as above (i.e. as multiple separate opposed actions).

Target body parts:
a player may call, before their attack is resolved, that they intend to target a certain body part.
this introduces a negative SitMod into the attacker's rolled degree, based on the difficulty of hitting that body part.
if the player does not miss, then one records in addition to the usual wounds the specific body part that received the wound.
negative penalities are introduced to relevant traits (see SitMod -> injuries).

evasion

	possible suggestion for scale: log base 2
pulling punches, knocking out, stunning
speed
peup

crit system}

\subsubsection{Situational Modifers}
\notes{Situational stuff (e.g. positioning, weapon lengths, height advantages, cover, range, multiple combatants, injuries, peup, surprise, scale difference)}

\subsubsection{Wounds and Healing}\label{sec:wounds}


\end{document}
